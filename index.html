<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <!-- Metadata, OpenGraph and Schema.org -->




<!-- Standard metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>
  
  
    
      Pruning in Snowflake: Working Smarter, Not Harder | Andi Zimmerer
    
  
</title>
<meta name="author" content="Andi Zimmerer">
<meta name="description" content="Modern cloud-based data analytics systems must efficiently process petabytes of data residing on cloud storage. A key optimization technique in state-of-the-art systems like Snowflake is partition pruning—skipping chunks of data that do not contain relevant information for computing query results. &lt;br&gt; While partition pruning based on query predicates is a well-established technique, we demonstrate that its scope can be extended to &lt;code&gt;LIMIT&lt;/code&gt;, top-k, and &lt;code&gt;JOIN&lt;/code&gt; operations, dramatically expanding the opportunities for pruning across diverse query types. &lt;br&gt; Our analysis of Snowflake's production workloads reveals that real-world analytical queries exhibit much higher selectivity than commonly assumed, yielding effective partition pruning. We show that we can harness high selectivity by utilizing only min/max metadata available in modern data analytics systems and data lake formats like Apache Iceberg, reducing the number of processed micro-partitions by 99.4%.
">

  <meta name="keywords" content="Snowflake, Databases, Data Skipping, Pruning">






  <!-- OpenGraph -->
  <meta property="og:site_name" content="Andi Zimmerer">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Andi Zimmerer | Pruning in Snowflake: Working Smarter, Not Harder">
  <meta property="og:url" content="http://localhost:4000/papers/snowflake-pruning.html">
  <meta property="og:description" content="Modern cloud-based data analytics systems must efficiently process petabytes of data residing on cloud storage. A key optimization technique in state-of-the-art systems like Snowflake is partition pruning—skipping chunks of data that do not contain relevant information for computing query results. &lt;br&gt; While partition pruning based on query predicates is a well-established technique, we demonstrate that its scope can be extended to &lt;code&gt;LIMIT&lt;/code&gt;, top-k, and &lt;code&gt;JOIN&lt;/code&gt; operations, dramatically expanding the opportunities for pruning across diverse query types. &lt;br&gt; Our analysis of Snowflake's production workloads reveals that real-world analytical queries exhibit much higher selectivity than commonly assumed, yielding effective partition pruning. We show that we can harness high selectivity by utilizing only min/max metadata available in modern data analytics systems and data lake formats like Apache Iceberg, reducing the number of processed micro-partitions by 99.4%.
">
  
    <meta property="og:image" content="https://andi-zimmerer.com/assets/img/posts/snowflake_pruning_flow.png">
  
  <meta property="og:locale" content="en">

  <!-- Twitter card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Pruning in Snowflake: Working Smarter, Not Harder">
  <meta name="twitter:description" content="Modern cloud-based data analytics systems must efficiently process petabytes of data residing on cloud storage. A key optimization technique in state-of-the-art systems like Snowflake is partition pruning—skipping chunks of data that do not contain relevant information for computing query results. &lt;br&gt; While partition pruning based on query predicates is a well-established technique, we demonstrate that its scope can be extended to &lt;code&gt;LIMIT&lt;/code&gt;, top-k, and &lt;code&gt;JOIN&lt;/code&gt; operations, dramatically expanding the opportunities for pruning across diverse query types. &lt;br&gt; Our analysis of Snowflake's production workloads reveals that real-world analytical queries exhibit much higher selectivity than commonly assumed, yielding effective partition pruning. We show that we can harness high selectivity by utilizing only min/max metadata available in modern data analytics systems and data lake formats like Apache Iceberg, reducing the number of processed micro-partitions by 99.4%.
">
  
    <meta name="twitter:image" content="https://andi-zimmerer.com/assets/img/posts/snowflake_pruning_flow.png">
  
  



  <!-- Schema.org -->
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Andi Zimmerer"
        },
        "url": "http://localhost:4000/papers/snowflake-pruning.html",
        "@type": "WebSite",
        "description": "Modern cloud-based data analytics systems must efficiently process petabytes of data residing on cloud storage. A key optimization technique in state-of-the-art systems like Snowflake is partition pruning&mdash;skipping chunks of data that do not contain relevant information for computing query results. <br> While partition pruning based on query predicates is a well-established technique, we demonstrate that its scope can be extended to <code>LIMIT</code>, top-k, and <code>JOIN</code> operations, dramatically expanding the opportunities for pruning across diverse query types. <br> Our analysis of Snowflake's production workloads reveals that real-world analytical queries exhibit much higher selectivity than commonly assumed, yielding effective partition pruning. We show that we can harness high selectivity by utilizing only min/max metadata available in modern data analytics systems and data lake formats like Apache Iceberg, reducing the number of processed micro-partitions by 99.4%.
",
        "headline": "Pruning in Snowflake: Working Smarter, Not Harder",
        
        "name": "Andi Zimmerer",
        "@context": "https://schema.org"
    }
  </script>


    <meta http-equiv='refresh' content='0; URL=https://andi-zimmerer.com/papers/snowflake-pruning.html'>
  </head>
</html>

